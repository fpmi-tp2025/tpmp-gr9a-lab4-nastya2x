# Функциональные требования — Система «Автопарк»

## Общее описание

Система управления «Автопарк» предназначена для автоматизации обслуживания заказов на перевозку грузов. Система должна обеспечивать ведение информации о заказах, клиентах, водителях и автомобилях, а также предоставлять доступ к функциональности в зависимости от роли пользователя (администратор или водитель).

## Роли пользователей системы

- **Администратор** — имеет полный доступ к данным, управлению заказами, водителями, автомобилями и может формировать отчёты.
- **Водитель** — имеет доступ только к информации о своих заказах, доходе и прикреплённой машине.

---

## Диаграмма прецедентов (Use Case)

```mermaid
%% Диаграмма прецедентов системы "Автопарк"
%% actor и usecase в mermaid
%% Admin и Driver — пользователи

graph TD
    Admin(Администратор)
    Driver(Водитель)

    subgraph Прецеденты
        UC1(Аутентификация)
        UC2(Добавление водителя)
        UC3(Добавление машины)
        UC4(Добавление заказа)
        UC5(Просмотр заказов)
        UC6(Расчёт дохода за период)
        UC7(Редактирование и удаление данных)
        UC8(Назначение машины водителю)
        UC9(Просмотр прикреплённой машины)
        UC10(Просмотр всех заказов)
    end

    Admin --> UC1
    Admin --> UC2
    Admin --> UC3
    Admin --> UC4
    Admin --> UC5
    Admin --> UC6
    Admin --> UC7
    Admin --> UC8
    Admin --> UC10

    Driver --> UC1
    Driver --> UC5
    Driver --> UC6
    Driver --> UC9
````

---

## Детализация прецедентов

### UC-1: Аутентификация

* **Акторы**: Администратор, Водитель
* **Предусловие**: Система запущена
* **Постусловие**: Пользователь авторизован с соответствующими правами

**Основной сценарий:**

1. Пользователь запускает приложение
2. Вводит логин и пароль
3. Система проверяет данные
4. Определяет роль
5. Отображает соответствующее меню

**Альтернатива:**

* Неверные данные → сообщение об ошибке → повторный ввод

---

### UC-2: Добавление водителя

* **Акторы**: Администратор
* **Постусловие**: В базе зарегистрирован новый водитель

**Сценарий:**

1. Выбор опции «Добавить водителя»
2. Ввод ФИО, адреса, телефона
3. Валидация данных
4. Сохранение в базу

---

### UC-3: Добавление машины

* **Акторы**: Администратор
* **Постусловие**: В базе зарегистрирована машина

**Сценарий:**

1. Выбор «Добавить машину»
2. Ввод марки, номера, грузоподъёмности
3. Валидация и сохранение

---

### UC-4: Добавление заказа

* **Акторы**: Администратор
* **Постусловие**: Заказ добавлен

**Сценарий:**

1. Ввод клиента, адреса отправки/получения, даты, веса
2. Назначение водителя и машины
3. Проверка наличия и сохранение

---

### UC-5: Просмотр заказов

* **Акторы**: Администратор, Водитель
* **Постусловие**: Заказы отображены

**Сценарий:**

1. Пользователь выбирает «Мои заказы»
2. Система отображает связанные с ним заказы

---

### UC-6: Расчёт дохода за период

* **Акторы**: Водитель
* **Постусловие**: Отображён доход за период

**Сценарий:**

1. Ввод даты начала и конца
2. Система рассчитывает сумму выполненных заказов

---

### UC-7: Редактирование и удаление данных

* **Акторы**: Администратор
* **Постусловие**: Информация обновлена или удалена

**Сценарий:**

1. Выбор элемента для редактирования/удаления
2. Подтверждение действия
3. Обновление базы

---

### UC-8: Назначение машины водителю

* **Акторы**: Администратор
* **Постусловие**: Машина закреплена за водителем

**Сценарий:**

1. Выбор водителя и машины
2. Связывание данных в системе

---

### UC-9: Просмотр прикреплённой машины

* **Акторы**: Водитель
* **Постусловие**: Водитель видит информацию о своей машине

---

### UC-10: Просмотр всех заказов

* **Акторы**: Администратор
* **Постусловие**: Отображена таблица заказов

---

## Функциональные требования системы

### Управление пользователями

* Система должна поддерживать аутентификацию и авторизацию
* Разделение прав доступа для администраторов и водителей

### Управление водителями

* Добавление, редактирование, удаление водителей
* Привязка к машине

### Управление машинами

* Добавление, редактирование, удаление машин
* Привязка к водителям

### Управление заказами

* Добавление заказов с данными о клиенте, маршруте и весе
* Привязка к водителю и машине
* Просмотр и фильтрация заказов
* Расчёт дохода по заказам

### Отчёты и статистика

* Расчёт дохода водителя за указанный период
* Просмотр всех заказов по фильтрам (даты, водители, клиенты)

### Пользовательский интерфейс

* Консольный интерфейс с меню по ролям
* Удобная навигация, подтверждение критичных действий

---

## Диаграмма последовательности — Аутентификация

```mermaid
sequenceDiagram
    participant U as Водитель
    participant S as Система

    U->>S: Ввод логина и пароля
    S->>S: Проверка данных
    alt Успешная аутентификация
        S->>U: Отображение меню пользователя
    else Ошибка
        S->>U: Сообщение об ошибке
    end
```
